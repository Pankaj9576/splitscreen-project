{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\panka\\\\Downloads\\\\splitscreen-main\\\\splitscreen-main\\\\src\\\\components\\\\SplitScreenModal.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport SplitScreen from './SplitScreen';\nimport GoogleSheetsUploader from './GoogleSheetsUploader';\nimport { useGoogleLogin } from '@react-oauth/google';\nimport BigQueryPatentFetcher from './BigQueryPatentFetcher';\nimport PatentViewer from './PatentViewer';\nimport ProxyContent from './ProxyContent';\n\n// Styled Components\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ModalBackground = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.7);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  animation: fadeIn 0.3s ease-in-out;\n\n  @keyframes fadeIn {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n`;\n_c = ModalBackground;\nconst ModalContent = styled.div`\n  background: #ffffff;\n  padding: 10px;\n  borderRadius: 15px;\n  width: 95%;\n  max-width: 1400px;\n  height: 95vh;\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);\n  animation: slideIn 0.4s ease-out;\n  overflow: hidden;\n\n  @keyframes slideIn {\n    from { transform: translateY(-50px); opacity: 0; }\n    to { transform: translateY(0); opacity: 1; }\n  }\n\n  @media (max-width: 1024px) {\n    width: 98%;\n    max-width: 1200px;\n    height: 90vh;\n    padding: 10px;\n  }\n\n  @media (max-width: 768px) {\n    width: 98%;\n    height: 98vh;\n    padding: 5px;\n  }\n`;\n_c2 = ModalContent;\nconst CloseButton = styled.button`\n  align-self: flex-end;\n  background: #ff4d4f;\n  color: white;\n  border: none;\n  padding: 12px 25px;\n  borderRadius: 10px;\n  cursor: pointer;\n  font-weight: 600;\n  transition: background 0.3s ease, transform 0.2s ease;\n  font-size: 16px;\n\n  &:hover {\n    background: #e63946;\n    transform: scale(1.05);\n  }\n\n  &:active {\n    transform: scale(0.95);\n  }\n`;\n_c3 = CloseButton;\nconst HeaderContainer = styled.div`\n  text-align: center;\n  margin-bottom: 10px;\n  padding: 5px 0;\n  border-bottom: 1px solid #e0e0e0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 10px;\n`;\n_c4 = HeaderContainer;\nconst InputContainer = styled.div`\n  margin: 10px 0;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  background: #f5f5f5;\n  padding: 10px;\n  borderRadius: 8px;\n  flex-shrink: 0;\n  max-height: 200px;\n  overflow-y: auto;\n`;\n_c5 = InputContainer;\nconst InputWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 5px;\n  flex-wrap: nowrap;\n\n  @media (max-width: 600px) {\n    flex-direction: column;\n    align-items: stretch;\n  }\n`;\n_c6 = InputWrapper;\nconst StyledInput = styled.input`\n  padding: 10px;\n  border: 2px solid #e0e0e0;\n  borderRadius: 8px;\n  width: 45%;\n  font-size: 14px;\n  background: #ffffff;\n  transition: border-color 0.3s ease, box-shadow 0.3s ease;\n\n  &:focus {\n    border-color: #1a73e8;\n    box-shadow: 0 0 10px rgba(26, 115, 232, 0.3);\n    outline: none;\n  }\n\n  &::placeholder {\n    color: #777;\n  }\n\n  @media (max-width: 600px) {\n    width: 100%;\n  }\n`;\n_c7 = StyledInput;\nconst FileInput = styled.input`\n  padding: 10px;\n  border: 2px solid #e0e0e0;\n  borderRadius: 8px;\n  width: 15%;\n  font-size: 14px;\n  background: #ffffff;\n  transition: border-color 0.3s ease, box-shadow 0.3s ease;\n\n  &:focus {\n    border-color: #1a73e8;\n    box-shadow: 0 0 10px rgba(26, 115, 232, 0.3);\n    outline: none;\n  }\n\n  &::placeholder {\n    color: #777;\n  }\n\n  @media (max-width: 600px) {\n    width: 100%;\n  }\n`;\n_c8 = FileInput;\nconst PatentInput = styled.input`\n  padding: 10px;\n  border: 2px solid #e0e0e0;\n  borderRadius: 8px;\n  width: 190px;\n  font-size: 14px;\n  background: #ffffff;\n  transition: border-color 0.3s ease, box-shadow 0.3s ease;\n\n  &:focus {\n    border-color: #4caf50;\n    box-shadow: 0 0 10px rgba(76, 175, 80, 0.3);\n    outline: none;\n  }\n\n  &::placeholder {\n    color: #777;\n  }\n`;\n_c9 = PatentInput;\nconst UploadButton = styled.button`\n  padding: 10px 20px;\n  background-color: #1a73e8;\n  color: white;\n  border: none;\n  borderRadius: 8px;\n  cursor: pointer;\n  font-weight: 600;\n  transition: background 0.3s ease, transform 0.2s ease;\n  font-size: 14px;\n\n  &:hover {\n    background-color: #1557b0;\n    transform: scale(1.05);\n  }\n\n  &:active {\n    transform: scale(0.95);\n  }\n\n  &:disabled {\n    background-color: #cccccc;\n    cursor: not-allowed;\n  }\n`;\n_c10 = UploadButton;\nconst PatentButton = styled.button`\n  padding: 10px 20px;\n  background-color: #4caf50;\n  color: white;\n  border: none;\n  borderRadius: 8px;\n  cursor: pointer;\n  font-weight: 600;\n  transition: background 0.3s ease, transform 0.2s ease;\n  font-size: 14px;\n\n  &:hover {\n    background-color: #45a049;\n    transform: scale(1.05);\n  }\n\n  &:active {\n    transform: scale(0.95);\n  }\n\n  &:disabled {\n    background-color: #cccccc;\n    cursor: not-allowed;\n  }\n`;\n_c11 = PatentButton;\nconst LoginButton = styled.button`\n  padding: 10px 20px;\n  background-color: #4285f4;\n  color: white;\n  border: none;\n  borderRadius: 8px;\n  cursor: pointer;\n  font-weight: 600;\n  transition: background 0.3s ease, transform 0.2s ease;\n  font-size: 14px;\n  margin: 0 10px;\n\n  &:hover {\n    background-color: #357abd;\n    transform: scale(1.05);\n  }\n\n  &:active {\n    transform: scale(0.95);\n  }\n`;\n_c12 = LoginButton;\nconst ScreenSelectButton = styled.select`\n  padding: 10px;\n  border: 2px solid #e0e0e0;\n  width: 150px;\n  borderRadius: 8px;\n  font-size: 14px;\n  background: #ffffff;\n  cursor: pointer;\n  transition: border-color 0.3s ease, box-shadow 0.3s ease;\n\n  &:focus {\n    border-color: #1a73e8;\n    box-shadow: 0 0 10px rgba(26, 115, 232, 0.3);\n    outline: none;\n  }\n`;\n_c13 = ScreenSelectButton;\nconst ContentWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  border: 1px solid #e0e0e0;\n  borderRadius: 8px;\n  overflow: auto;\n  background: #ffffff;\n  padding: 5px;\n`;\n_c14 = ContentWrapper;\nconst ErrorMessage = styled.div`\n  color: #ff4d4f;\n  margin: 10px 0;\n  padding: 10px;\n  background: #ffe6e6;\n  borderRadius: 8px;\n  text-align: center;\n  animation: fadeInError 0.3s ease-in-out;\n\n  @keyframes fadeInError {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n`;\n\n// SplitScreenModal Component\n_c15 = ErrorMessage;\nconst SplitScreenModal = ({\n  leftSrc,\n  rightSrc,\n  setLeftSrc,\n  setRightSrc,\n  onClose\n}) => {\n  _s();\n  const [patentData, setPatentData] = useState({});\n  const [leftPatentInput, setLeftPatentInput] = useState('');\n  const [rightPatentInput, setRightPatentInput] = useState('');\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [leftFile, setLeftFile] = useState(null);\n  const [rightFile, setRightFile] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [showSuccess, setShowSuccess] = useState(false);\n  const [screenMode, setScreenMode] = useState('both');\n  const googleLogin = useGoogleLogin({\n    onSuccess: tokenResponse => {\n      console.log('Google login success:', tokenResponse);\n      setIsAuthenticated(true);\n      setShowSuccess(true);\n    },\n    onError: error => console.error('Google login error:', error),\n    flow: 'implicit'\n  });\n  useEffect(() => {\n    if (showSuccess) {\n      const timer = setTimeout(() => {\n        setShowSuccess(false);\n      }, 3000);\n      return () => clearTimeout(timer);\n    }\n  }, [showSuccess]);\n  const handleUploadComplete = async (side, file) => {\n    if (!file) return;\n    const formData = new FormData();\n    formData.append('file', file);\n    try {\n      const backendUrl = process.env.REACT_APP_BACKEND_URL || 'http://localhost:5001';\n      const response = await fetch(`${backendUrl}/upload`, {\n        method: 'POST',\n        body: formData\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      const blob = await response.blob();\n      const url = URL.createObjectURL(blob);\n      if (side === 'left') {\n        setLeftSrc(url);\n      } else {\n        setRightSrc(url);\n      }\n    } catch (err) {\n      console.error('Upload error:', err);\n      setError(`Failed to process file: ${err.message}`);\n    }\n  };\n  const fetchPatentData = async (patentNumber, side) => {\n    const fetcher = new BigQueryPatentFetcher();\n    setLoading(true);\n    try {\n      console.log(`Fetching patent data for ${patentNumber} on ${side}...`);\n      setError(null);\n      const data = await fetcher.fetchPatentData(patentNumber, isAuthenticated);\n      setPatentData(prev => ({\n        ...prev,\n        [side]: data\n      }));\n      if (side === 'left') {\n        setLeftSrc(`patent:${patentNumber}`);\n      } else {\n        setRightSrc(`patent:${patentNumber}`);\n      }\n    } catch (error) {\n      console.error('Error fetching patent data:', error);\n      setError(`Error fetching patent data: ${error.message || 'Unknown error. Login may be required for this action.'}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handlePatentFetch = side => {\n    const patentNumber = side === 'left' ? leftPatentInput : rightPatentInput;\n    if (patentNumber) {\n      fetchPatentData(patentNumber, side);\n    }\n  };\n  const renderContent = (src, side) => {\n    console.log(`Rendering content for ${side} with uri:`, src);\n    if (!src) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#666',\n          textAlign: 'center'\n        },\n        children: \"Enter a URL, upload a file, or enter a patent number to view content\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 14\n      }, this);\n    }\n    if (src.startsWith('patent:')) {\n      const patentNumber = src.split('patent:')[1];\n      return patentData[side] ? /*#__PURE__*/_jsxDEV(PatentViewer, {\n        patentNumber: patentNumber\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 33\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#666',\n          textAlign: 'center'\n        },\n        children: \"Loading patent...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 80\n      }, this);\n    }\n    if (src.includes('patents.google.com/patent/')) {\n      var _src$match;\n      const patentNumber = ((_src$match = src.match(/patent\\/([^\\/]+)\\//)) === null || _src$match === void 0 ? void 0 : _src$match[1]) || 'unknown';\n      return /*#__PURE__*/_jsxDEV(ContentWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(ProxyContent, {\n          url: src\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: 10,\n            textAlign: 'right'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => window.open(src, '_blank'),\n            style: {\n              background: '#4285f4',\n              color: '#ffffff',\n              border: 'none',\n              padding: '8px 15px',\n              borderRadius: '6px',\n              cursor: 'pointer',\n              transition: 'background 0.3s ease'\n            },\n            onMouseOver: e => e.target.style.background = '#3267d6',\n            onMouseOut: e => e.target.style.background = '#4285f4',\n            children: \"Open in New Tab\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 13\n          }, this), patentData[side] ? /*#__PURE__*/_jsxDEV(PatentViewer, {\n            patentNumber: patentNumber\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: 10\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 9\n      }, this);\n    }\n    try {\n      return /*#__PURE__*/_jsxDEV(ProxyContent, {\n        url: src\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 14\n      }, this);\n    } catch (err) {\n      console.error(`Error rendering ${src}:`, err);\n      return /*#__PURE__*/_jsxDEV(ContentWrapper, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: '#ff4d4f',\n            textAlign: 'center',\n            padding: 15\n          },\n          children: [\"Failed to render URL. Click to download or try another link.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: src,\n            download: true,\n            style: {\n              color: '#1a73e8',\n              textDecoration: 'none'\n            },\n            children: \"Download File\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 9\n      }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(ModalBackground, {\n    onClick: onClose,\n    children: /*#__PURE__*/_jsxDEV(ModalContent, {\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(CloseButton, {\n        onClick: onClose,\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(HeaderContainer, {\n        children: [!isAuthenticated && /*#__PURE__*/_jsxDEV(LoginButton, {\n          onClick: () => googleLogin(),\n          children: \"Login with Google\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 13\n        }, this), showSuccess && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: '#4caf50',\n            fontSize: '14px'\n          },\n          children: \"Logged in successfully!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 27\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputContainer, {\n        children: [/*#__PURE__*/_jsxDEV(InputWrapper, {\n          children: [/*#__PURE__*/_jsxDEV(StyledInput, {\n            type: \"text\",\n            placeholder: \"Enter left URL\",\n            value: leftSrc,\n            onChange: e => setLeftSrc(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FileInput, {\n            type: \"file\",\n            onChange: e => setLeftFile(e.target.files[0])\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(UploadButton, {\n            onClick: () => handleUploadComplete('left', leftFile),\n            children: \"Upload File\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(PatentInput, {\n            type: \"text\",\n            placeholder: \"Enter patent number\",\n            value: leftPatentInput,\n            onChange: e => setLeftPatentInput(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(PatentButton, {\n            onClick: () => handlePatentFetch('left'),\n            disabled: loading,\n            children: loading && leftPatentInput ? 'Fetching...' : 'Fetch Patent'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InputWrapper, {\n          children: [/*#__PURE__*/_jsxDEV(StyledInput, {\n            type: \"text\",\n            placeholder: \"Enter right URL\",\n            value: rightSrc,\n            onChange: e => setRightSrc(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FileInput, {\n            type: \"file\",\n            onChange: e => setRightFile(e.target.files[0])\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(UploadButton, {\n            onClick: () => handleUploadComplete('right', rightFile),\n            children: \"Upload File\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(PatentInput, {\n            type: \"text\",\n            placeholder: \"Enter patent number\",\n            value: rightPatentInput,\n            onChange: e => setRightPatentInput(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(PatentButton, {\n            onClick: () => handlePatentFetch('right'),\n            disabled: loading,\n            children: loading && rightPatentInput ? 'Fetching...' : 'Fetch Patent'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 508,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ScreenSelectButton, {\n          value: screenMode,\n          onChange: e => setScreenMode(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"both\",\n            children: \"Both Screen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"left\",\n            children: \"Left Screen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 517,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"right\",\n            children: \"Right Screen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(ErrorMessage, {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(SplitScreen, {\n        leftWidth: 1,\n        rightWidth: 1,\n        screenMode: screenMode,\n        children: [leftSrc && renderContent(leftSrc, 'left'), rightSrc && renderContent(rightSrc, 'right')]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 455,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 454,\n    columnNumber: 5\n  }, this);\n};\n_s(SplitScreenModal, \"DO/D8hiwBGFrWo7Lp/3h9IBZKs4=\", false, function () {\n  return [useGoogleLogin];\n});\n_c16 = SplitScreenModal;\nexport default SplitScreenModal;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16;\n$RefreshReg$(_c, \"ModalBackground\");\n$RefreshReg$(_c2, \"ModalContent\");\n$RefreshReg$(_c3, \"CloseButton\");\n$RefreshReg$(_c4, \"HeaderContainer\");\n$RefreshReg$(_c5, \"InputContainer\");\n$RefreshReg$(_c6, \"InputWrapper\");\n$RefreshReg$(_c7, \"StyledInput\");\n$RefreshReg$(_c8, \"FileInput\");\n$RefreshReg$(_c9, \"PatentInput\");\n$RefreshReg$(_c10, \"UploadButton\");\n$RefreshReg$(_c11, \"PatentButton\");\n$RefreshReg$(_c12, \"LoginButton\");\n$RefreshReg$(_c13, \"ScreenSelectButton\");\n$RefreshReg$(_c14, \"ContentWrapper\");\n$RefreshReg$(_c15, \"ErrorMessage\");\n$RefreshReg$(_c16, \"SplitScreenModal\");","map":{"version":3,"names":["React","useState","useEffect","styled","SplitScreen","GoogleSheetsUploader","useGoogleLogin","BigQueryPatentFetcher","PatentViewer","ProxyContent","jsxDEV","_jsxDEV","ModalBackground","div","_c","ModalContent","_c2","CloseButton","button","_c3","HeaderContainer","_c4","InputContainer","_c5","InputWrapper","_c6","StyledInput","input","_c7","FileInput","_c8","PatentInput","_c9","UploadButton","_c10","PatentButton","_c11","LoginButton","_c12","ScreenSelectButton","select","_c13","ContentWrapper","_c14","ErrorMessage","_c15","SplitScreenModal","leftSrc","rightSrc","setLeftSrc","setRightSrc","onClose","_s","patentData","setPatentData","leftPatentInput","setLeftPatentInput","rightPatentInput","setRightPatentInput","error","setError","loading","setLoading","leftFile","setLeftFile","rightFile","setRightFile","isAuthenticated","setIsAuthenticated","showSuccess","setShowSuccess","screenMode","setScreenMode","googleLogin","onSuccess","tokenResponse","console","log","onError","flow","timer","setTimeout","clearTimeout","handleUploadComplete","side","file","formData","FormData","append","backendUrl","process","env","REACT_APP_BACKEND_URL","response","fetch","method","body","ok","Error","status","blob","url","URL","createObjectURL","err","message","fetchPatentData","patentNumber","fetcher","data","prev","handlePatentFetch","renderContent","src","style","color","textAlign","children","fileName","_jsxFileName","lineNumber","columnNumber","startsWith","split","includes","_src$match","match","padding","onClick","window","open","background","border","borderRadius","cursor","transition","onMouseOver","e","target","onMouseOut","href","download","textDecoration","stopPropagation","fontSize","type","placeholder","value","onChange","files","disabled","leftWidth","rightWidth","_c16","$RefreshReg$"],"sources":["C:/Users/panka/Downloads/splitscreen-main/splitscreen-main/src/components/SplitScreenModal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport SplitScreen from './SplitScreen';\nimport GoogleSheetsUploader from './GoogleSheetsUploader';\nimport { useGoogleLogin } from '@react-oauth/google';\nimport BigQueryPatentFetcher from './BigQueryPatentFetcher';\nimport PatentViewer from './PatentViewer';\nimport ProxyContent from './ProxyContent';\n\n// Styled Components\nconst ModalBackground = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.7);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  animation: fadeIn 0.3s ease-in-out;\n\n  @keyframes fadeIn {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n`;\n\nconst ModalContent = styled.div`\n  background: #ffffff;\n  padding: 10px;\n  borderRadius: 15px;\n  width: 95%;\n  max-width: 1400px;\n  height: 95vh;\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);\n  animation: slideIn 0.4s ease-out;\n  overflow: hidden;\n\n  @keyframes slideIn {\n    from { transform: translateY(-50px); opacity: 0; }\n    to { transform: translateY(0); opacity: 1; }\n  }\n\n  @media (max-width: 1024px) {\n    width: 98%;\n    max-width: 1200px;\n    height: 90vh;\n    padding: 10px;\n  }\n\n  @media (max-width: 768px) {\n    width: 98%;\n    height: 98vh;\n    padding: 5px;\n  }\n`;\n\nconst CloseButton = styled.button`\n  align-self: flex-end;\n  background: #ff4d4f;\n  color: white;\n  border: none;\n  padding: 12px 25px;\n  borderRadius: 10px;\n  cursor: pointer;\n  font-weight: 600;\n  transition: background 0.3s ease, transform 0.2s ease;\n  font-size: 16px;\n\n  &:hover {\n    background: #e63946;\n    transform: scale(1.05);\n  }\n\n  &:active {\n    transform: scale(0.95);\n  }\n`;\n\nconst HeaderContainer = styled.div`\n  text-align: center;\n  margin-bottom: 10px;\n  padding: 5px 0;\n  border-bottom: 1px solid #e0e0e0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 10px;\n`;\n\nconst InputContainer = styled.div`\n  margin: 10px 0;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  background: #f5f5f5;\n  padding: 10px;\n  borderRadius: 8px;\n  flex-shrink: 0;\n  max-height: 200px;\n  overflow-y: auto;\n`;\n\nconst InputWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 5px;\n  flex-wrap: nowrap;\n\n  @media (max-width: 600px) {\n    flex-direction: column;\n    align-items: stretch;\n  }\n`;\n\nconst StyledInput = styled.input`\n  padding: 10px;\n  border: 2px solid #e0e0e0;\n  borderRadius: 8px;\n  width: 45%;\n  font-size: 14px;\n  background: #ffffff;\n  transition: border-color 0.3s ease, box-shadow 0.3s ease;\n\n  &:focus {\n    border-color: #1a73e8;\n    box-shadow: 0 0 10px rgba(26, 115, 232, 0.3);\n    outline: none;\n  }\n\n  &::placeholder {\n    color: #777;\n  }\n\n  @media (max-width: 600px) {\n    width: 100%;\n  }\n`;\n\nconst FileInput = styled.input`\n  padding: 10px;\n  border: 2px solid #e0e0e0;\n  borderRadius: 8px;\n  width: 15%;\n  font-size: 14px;\n  background: #ffffff;\n  transition: border-color 0.3s ease, box-shadow 0.3s ease;\n\n  &:focus {\n    border-color: #1a73e8;\n    box-shadow: 0 0 10px rgba(26, 115, 232, 0.3);\n    outline: none;\n  }\n\n  &::placeholder {\n    color: #777;\n  }\n\n  @media (max-width: 600px) {\n    width: 100%;\n  }\n`;\n\nconst PatentInput = styled.input`\n  padding: 10px;\n  border: 2px solid #e0e0e0;\n  borderRadius: 8px;\n  width: 190px;\n  font-size: 14px;\n  background: #ffffff;\n  transition: border-color 0.3s ease, box-shadow 0.3s ease;\n\n  &:focus {\n    border-color: #4caf50;\n    box-shadow: 0 0 10px rgba(76, 175, 80, 0.3);\n    outline: none;\n  }\n\n  &::placeholder {\n    color: #777;\n  }\n`;\n\nconst UploadButton = styled.button`\n  padding: 10px 20px;\n  background-color: #1a73e8;\n  color: white;\n  border: none;\n  borderRadius: 8px;\n  cursor: pointer;\n  font-weight: 600;\n  transition: background 0.3s ease, transform 0.2s ease;\n  font-size: 14px;\n\n  &:hover {\n    background-color: #1557b0;\n    transform: scale(1.05);\n  }\n\n  &:active {\n    transform: scale(0.95);\n  }\n\n  &:disabled {\n    background-color: #cccccc;\n    cursor: not-allowed;\n  }\n`;\n\nconst PatentButton = styled.button`\n  padding: 10px 20px;\n  background-color: #4caf50;\n  color: white;\n  border: none;\n  borderRadius: 8px;\n  cursor: pointer;\n  font-weight: 600;\n  transition: background 0.3s ease, transform 0.2s ease;\n  font-size: 14px;\n\n  &:hover {\n    background-color: #45a049;\n    transform: scale(1.05);\n  }\n\n  &:active {\n    transform: scale(0.95);\n  }\n\n  &:disabled {\n    background-color: #cccccc;\n    cursor: not-allowed;\n  }\n`;\n\nconst LoginButton = styled.button`\n  padding: 10px 20px;\n  background-color: #4285f4;\n  color: white;\n  border: none;\n  borderRadius: 8px;\n  cursor: pointer;\n  font-weight: 600;\n  transition: background 0.3s ease, transform 0.2s ease;\n  font-size: 14px;\n  margin: 0 10px;\n\n  &:hover {\n    background-color: #357abd;\n    transform: scale(1.05);\n  }\n\n  &:active {\n    transform: scale(0.95);\n  }\n`;\n\nconst ScreenSelectButton = styled.select`\n  padding: 10px;\n  border: 2px solid #e0e0e0;\n  width: 150px;\n  borderRadius: 8px;\n  font-size: 14px;\n  background: #ffffff;\n  cursor: pointer;\n  transition: border-color 0.3s ease, box-shadow 0.3s ease;\n\n  &:focus {\n    border-color: #1a73e8;\n    box-shadow: 0 0 10px rgba(26, 115, 232, 0.3);\n    outline: none;\n  }\n`;\n\nconst ContentWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  border: 1px solid #e0e0e0;\n  borderRadius: 8px;\n  overflow: auto;\n  background: #ffffff;\n  padding: 5px;\n`;\n\nconst ErrorMessage = styled.div`\n  color: #ff4d4f;\n  margin: 10px 0;\n  padding: 10px;\n  background: #ffe6e6;\n  borderRadius: 8px;\n  text-align: center;\n  animation: fadeInError 0.3s ease-in-out;\n\n  @keyframes fadeInError {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n`;\n\n// SplitScreenModal Component\nconst SplitScreenModal = ({ leftSrc, rightSrc, setLeftSrc, setRightSrc, onClose }) => {\n  const [patentData, setPatentData] = useState({});\n  const [leftPatentInput, setLeftPatentInput] = useState('');\n  const [rightPatentInput, setRightPatentInput] = useState('');\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [leftFile, setLeftFile] = useState(null);\n  const [rightFile, setRightFile] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [showSuccess, setShowSuccess] = useState(false);\n  const [screenMode, setScreenMode] = useState('both');\n\n  const googleLogin = useGoogleLogin({\n    onSuccess: (tokenResponse) => {\n      console.log('Google login success:', tokenResponse);\n      setIsAuthenticated(true);\n      setShowSuccess(true);\n    },\n    onError: (error) => console.error('Google login error:', error),\n    flow: 'implicit',\n  });\n\n  useEffect(() => {\n    if (showSuccess) {\n      const timer = setTimeout(() => {\n        setShowSuccess(false);\n      }, 3000);\n      return () => clearTimeout(timer);\n    }\n  }, [showSuccess]);\n\n  const handleUploadComplete = async (side, file) => {\n    if (!file) return;\n\n    const formData = new FormData();\n    formData.append('file', file);\n\n    try {\n      const backendUrl = process.env.REACT_APP_BACKEND_URL || 'http://localhost:5001';\n      const response = await fetch(`${backendUrl}/upload`, {\n        method: 'POST',\n        body: formData,\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n\n      const blob = await response.blob();\n      const url = URL.createObjectURL(blob);\n\n      if (side === 'left') {\n        setLeftSrc(url);\n      } else {\n        setRightSrc(url);\n      }\n    } catch (err) {\n      console.error('Upload error:', err);\n      setError(`Failed to process file: ${err.message}`);\n    }\n  };\n\n  const fetchPatentData = async (patentNumber, side) => {\n    const fetcher = new BigQueryPatentFetcher();\n    setLoading(true);\n    try {\n      console.log(`Fetching patent data for ${patentNumber} on ${side}...`);\n      setError(null);\n      const data = await fetcher.fetchPatentData(patentNumber, isAuthenticated);\n      setPatentData((prev) => ({ ...prev, [side]: data }));\n      if (side === 'left') {\n        setLeftSrc(`patent:${patentNumber}`);\n      } else {\n        setRightSrc(`patent:${patentNumber}`);\n      }\n    } catch (error) {\n      console.error('Error fetching patent data:', error);\n      setError(`Error fetching patent data: ${error.message || 'Unknown error. Login may be required for this action.'}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handlePatentFetch = (side) => {\n    const patentNumber = side === 'left' ? leftPatentInput : rightPatentInput;\n    if (patentNumber) {\n      fetchPatentData(patentNumber, side);\n    }\n  };\n\n  const renderContent = (src, side) => {\n    console.log(`Rendering content for ${side} with uri:`, src);\n    if (!src) {\n      return <div style={{ color: '#666', textAlign: 'center' }}>Enter a URL, upload a file, or enter a patent number to view content</div>;\n    }\n    if (src.startsWith('patent:')) {\n      const patentNumber = src.split('patent:')[1];\n      return patentData[side] ? <PatentViewer patentNumber={patentNumber} /> : <div style={{ color: '#666', textAlign: 'center' }}>Loading patent...</div>;\n    }\n    if (src.includes('patents.google.com/patent/')) {\n      const patentNumber = src.match(/patent\\/([^\\/]+)\\//)?.[1] || 'unknown';\n      return (\n        <ContentWrapper>\n          <ProxyContent url={src} />\n          <div style={{ padding: 10, textAlign: 'right' }}>\n            <button\n              onClick={() => window.open(src, '_blank')}\n              style={{\n                background: '#4285f4',\n                color: '#ffffff',\n                border: 'none',\n                padding: '8px 15px',\n                borderRadius: '6px',\n                cursor: 'pointer',\n                transition: 'background 0.3s ease',\n              }}\n              onMouseOver={(e) => (e.target.style.background = '#3267d6')}\n              onMouseOut={(e) => (e.target.style.background = '#4285f4')}\n            >\n              Open in New Tab\n            </button>\n            {patentData[side] ? (\n              <PatentViewer patentNumber={patentNumber} />\n            ) : (\n              <div style={{ padding: 10 }} />\n            )}\n          </div>\n        </ContentWrapper>\n      );\n    }\n    try {\n      return <ProxyContent url={src} />;\n    } catch (err) {\n      console.error(`Error rendering ${src}:`, err);\n      return (\n        <ContentWrapper>\n          <div style={{ color: '#ff4d4f', textAlign: 'center', padding: 15 }}>\n            Failed to render URL. Click to download or try another link.\n            <br />\n            <a href={src} download style={{ color: '#1a73e8', textDecoration: 'none' }}>\n              Download File\n            </a>\n          </div>\n        </ContentWrapper>\n      );\n    }\n  };\n\n  return (\n    <ModalBackground onClick={onClose}>\n      <ModalContent onClick={(e) => e.stopPropagation()}>\n        <CloseButton onClick={onClose}>Close</CloseButton>\n        <HeaderContainer>\n          {!isAuthenticated && (\n            <LoginButton onClick={() => googleLogin()}>Login with Google</LoginButton>\n          )}\n          {showSuccess && <div style={{ color: '#4caf50', fontSize: '14px' }}>Logged in successfully!</div>}\n        </HeaderContainer>\n        <InputContainer>\n          <InputWrapper>\n            <StyledInput\n              type=\"text\"\n              placeholder=\"Enter left URL\"\n              value={leftSrc}\n              onChange={(e) => setLeftSrc(e.target.value)}\n            />\n            <FileInput\n              type=\"file\"\n              onChange={(e) => setLeftFile(e.target.files[0])}\n            />\n            <UploadButton onClick={() => handleUploadComplete('left', leftFile)}>\n              Upload File\n            </UploadButton>\n            <PatentInput\n              type=\"text\"\n              placeholder=\"Enter patent number\"\n              value={leftPatentInput}\n              onChange={(e) => setLeftPatentInput(e.target.value)}\n            />\n            <PatentButton onClick={() => handlePatentFetch('left')} disabled={loading}>\n              {loading && leftPatentInput ? 'Fetching...' : 'Fetch Patent'}\n            </PatentButton>\n          </InputWrapper>\n          <InputWrapper>\n            <StyledInput\n              type=\"text\"\n              placeholder=\"Enter right URL\"\n              value={rightSrc}\n              onChange={(e) => setRightSrc(e.target.value)}\n            />\n            <FileInput\n              type=\"file\"\n              onChange={(e) => setRightFile(e.target.files[0])}\n            />\n            <UploadButton onClick={() => handleUploadComplete('right', rightFile)}>\n              Upload File\n            </UploadButton>\n            <PatentInput\n              type=\"text\"\n              placeholder=\"Enter patent number\"\n              value={rightPatentInput}\n              onChange={(e) => setRightPatentInput(e.target.value)}\n            />\n            <PatentButton onClick={() => handlePatentFetch('right')} disabled={loading}>\n              {loading && rightPatentInput ? 'Fetching...' : 'Fetch Patent'}\n            </PatentButton>\n          </InputWrapper>\n          <ScreenSelectButton\n            value={screenMode}\n            onChange={(e) => setScreenMode(e.target.value)}\n          >\n            <option value=\"both\">Both Screen</option>\n            <option value=\"left\">Left Screen</option>\n            <option value=\"right\">Right Screen</option>\n          </ScreenSelectButton>\n        </InputContainer>\n        {error && <ErrorMessage>{error}</ErrorMessage>}\n        <SplitScreen leftWidth={1} rightWidth={1} screenMode={screenMode}>\n          {leftSrc && renderContent(leftSrc, 'left')}\n          {rightSrc && renderContent(rightSrc, 'right')}\n        </SplitScreen>\n      </ModalContent>\n    </ModalBackground>\n  );\n};\n\nexport default SplitScreenModal;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,MAAM,MAAM,mBAAmB;AACtC,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAOC,oBAAoB,MAAM,wBAAwB;AACzD,SAASC,cAAc,QAAQ,qBAAqB;AACpD,OAAOC,qBAAqB,MAAM,yBAAyB;AAC3D,OAAOC,YAAY,MAAM,gBAAgB;AACzC,OAAOC,YAAY,MAAM,gBAAgB;;AAEzC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,eAAe,GAAGT,MAAM,CAACU,GAAG;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,EAAA,GAjBIF,eAAe;AAmBrB,MAAMG,YAAY,GAAGZ,MAAM,CAACU,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACG,GAAA,GA9BID,YAAY;AAgClB,MAAME,WAAW,GAAGd,MAAM,CAACe,MAAM;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GApBIF,WAAW;AAsBjB,MAAMG,eAAe,GAAGjB,MAAM,CAACU,GAAG;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACQ,GAAA,GATID,eAAe;AAWrB,MAAME,cAAc,GAAGnB,MAAM,CAACU,GAAG;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACU,GAAA,GAXID,cAAc;AAapB,MAAME,YAAY,GAAGrB,MAAM,CAACU,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACY,GAAA,GAVID,YAAY;AAYlB,MAAME,WAAW,GAAGvB,MAAM,CAACwB,KAAK;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAtBIF,WAAW;AAwBjB,MAAMG,SAAS,GAAG1B,MAAM,CAACwB,KAAK;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACG,GAAA,GAtBID,SAAS;AAwBf,MAAME,WAAW,GAAG5B,MAAM,CAACwB,KAAK;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACK,GAAA,GAlBID,WAAW;AAoBjB,MAAME,YAAY,GAAG9B,MAAM,CAACe,MAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACgB,IAAA,GAxBID,YAAY;AA0BlB,MAAME,YAAY,GAAGhC,MAAM,CAACe,MAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACkB,IAAA,GAxBID,YAAY;AA0BlB,MAAME,WAAW,GAAGlC,MAAM,CAACe,MAAM;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACoB,IAAA,GApBID,WAAW;AAsBjB,MAAME,kBAAkB,GAAGpC,MAAM,CAACqC,MAAM;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAfIF,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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}